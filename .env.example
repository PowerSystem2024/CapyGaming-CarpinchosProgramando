# Variables de entorno - CapyGaming
# INSTRUCCIONES: Copia este archivo a .env y completa con tus credenciales

# ============================================
# BASE DE DATOS (PostgreSQL)
# ============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=admin
POSTGRES_DB=capygaming
DB_USER=postgres
DB_HOST=db
DB_NAME=capygaming
DB_PASSWORD=admin
DB_PORT=5432

# ============================================
# SERVIDOR BACKEND
# ============================================
# development | production
NODE_ENV=development
PORT=3001

# ============================================
# AUTENTICACIÓN JWT
# ============================================
# Genera un secret fuerte: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=tu-jwt-secret-aqui

# ============================================
# MERCADOPAGO - CREDENCIALES
# ============================================
# 1. Crear cuenta en: https://www.mercadopago.com.ar
# 2. Ir a: https://www.mercadopago.com.ar/developers/panel/app
# 3. Crear aplicación
# 4. Copiar credenciales de PRUEBA (TEST) para desarrollo
# 5. Las credenciales TEST empiezan con: APP_USR-...

MERCADOPAGO_ACCESS_TOKEN=APP_USR-tu-access-token-aqui
MERCADOPAGO_PUBLIC_KEY=APP_USR-tu-public-key-aqui

# ============================================
# WEBHOOK SECRET
# ============================================
# Cómo obtenerlo:
# 1. Panel de MercadoPago → Tu aplicación
# 2. Ir a sección "Webhooks" o "Notificaciones"
# 3. Configurar URL del webhook (ver abajo)
# 4. Copiar el "Secret" que te genera automáticamente
# 5. Pegarlo aquí

MERCADOPAGO_WEBHOOK_SECRET=tu-webhook-secret-aqui

# ============================================
# URLs DE LA APLICACIÓN
# ============================================
# URL del frontend (donde corre Vue)
FRONTEND_URL=http://localhost:5173

# URL del backend (donde corre Express)
BACKEND_URL=http://localhost:3001

# ============================================
# CONFIGURACIÓN DE WEBHOOKS (DESARROLLO)
# ============================================
# Para probar webhooks en local, necesitas exponer tu backend a internet
# Usa ngrok (recomendado):
#
# 1. Instalar ngrok:
#    Mac: brew install ngrok
#    Windows/Linux: descargar de https://ngrok.com
#
# 2. Ejecutar ngrok:
#    ngrok http 3001
#
# 3. Copiar la URL HTTPS que te da (ej: https://abc123.ngrok.io)
#
# 4. Configurar en panel de MercadoPago:
#    URL: https://abc123.ngrok.io/api/webhooks/webhook
#    Eventos: payment
#
# 5. Copiar el SECRET que te genera MercadoPago
#
# 6. Pegar el SECRET en MERCADOPAGO_WEBHOOK_SECRET arriba

# ============================================
# VALIDACIÓN DE WEBHOOKS
# ============================================
# Solo para desarrollo: permite webhooks sin firma
# NUNCA usar true en producción
# Por defecto: false (siempre validar firma)
ALLOW_UNSIGNED_WEBHOOKS=false

# ============================================
# TARJETAS DE PRUEBA MERCADOPAGO
# ============================================
# Usar estas tarjetas en modo TEST:
#
# Pago aprobado:
#   Número: 5031 7557 3453 0604
#   CVV: 123
#   Vencimiento: cualquier fecha futura
#   Titular: APRO
#
# Pago rechazado:
#   Número: 5031 4332 1540 6351
#   CVV: 123
#   Vencimiento: cualquier fecha futura
#   Titular: OTHE
#
# Más info: https://www.mercadopago.com.ar/developers/en/docs/checkout-pro/additional-content/test-cards